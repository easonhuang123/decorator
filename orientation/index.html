<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <title>vue-template</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- built files will be auto injected -->
    <script>
      function setRem() {
        var dpr = window.devicePixelRatio;
        var fontSize;
        var docEl = document.documentElement;

        if (!docEl) return;

        if (window.devicePixelRatio >= 1.5) {
          dpr = 2;
        }
        docEl.setAttribute('data-dpr', dpr);

        var userAgent = navigator.userAgent;
        if (userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) || userAgent.match(/Android/i)) {
          fontSize = docEl.clientWidth / 7.5;

          if (fontSize < 50) {
              fontSize = 50;
          } else if (fontSize > 75) {
            fontSize = 75;
          }
          return docEl.style.fontSize = fontSize + 'px';
        }

        docEl.style.fontSize = '50px';
      };
      setRem();
      // 解决ios中预加载时 clientWidth 不正确的问题
      window.onresize = function () {
          setRem();
      }
      window.remTimer = setInterval(setRem, 200)
    </script>
  </body>
</html>
